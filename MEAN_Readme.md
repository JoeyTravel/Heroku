# MEAN Stack
`Mean is generally used to create browser-based `web applications because AngularJS 2 (client-side) and Express (server-side) are both framworks for web apps.  Another compelling use case for MEAN is the development of the RESTful API servers.  

### 1. MongoDB
  * Stores data in a JSON-like format
  
### 2. Express
  * Express and Node.js facilitate JSON query creation

### 3. Angular JS 2
 * Angular JS 2 allows the client to seamlessly send and receive JSON documents.
 
### 4. Node.js
 

## Development Protocol

 * `package.json` - A configuration file that contains the metadata for the application. When there is a `package.json` file in the root directory of the project, Heroku will use the Node.js buildpack to deploy the application.
 
 * `app.json` - A manifest format for describing web apps.  It declares environment variables, add-ons, and other information required to run an app on Heroku.  It is required to create `Deploy to Heroku` button.
 
 * `server.js` - The file contains all the server-side code used to implement the REST API.  The API is written in Node.js, using the Express framework and MongoDB Node.js driver.
 
 * `/src` directory - This folder contains all of the AngularJS client code for the project.  
 
Heroku recognizes an app as Node.js by the existence of a `package.json` file in the root directory.   A `package.json` file was generated by the `ng new` command.



### CLI Commands

1. `ng new` - create a directory
2. `heroku create` - 
3. `heroku addons:create mongolab` - create a new Sandbox database
When you create a mLab add-on, the database connection URI is stored as a config var. Heroku config variables are equivalent to an environment variable, which you can use in development and your local environment. You can access this variable in your Node.js code as `process.env.MONGODB_URI`, which we will use later in our server code.

4. `touch server.js` - create a new file 
5. 
```Javascript
var express = require("express");
var bodyParser = require("body-parser");
var mongodb = require("mongodb");
var ObjectID = mongodb.ObjectID;

var CONTACTS_COLLECTION = "contacts";

var app = express();
app.use(bodyParser.json());

// Create a database variable outside of the database connection callback to reuse the connection pool in your app.
var db;

// Connect to the database before starting the application server.
mongodb.MongoClient.connect(process.env.MONGODB_URI, function (err, database) {
  if (err) {
    console.log(err);
    process.exit(1);
  }

  // Save database object from the callback for reuse.
  db = database;
  console.log("Database connection ready");

  // Initialize the app.
  var server = app.listen(process.env.PORT || 8080, function () {
    var port = server.address().port;
    console.log("App now running on port", port);
  });
});

// CONTACTS API ROUTES BELOW
```
6. `npm install mongodb express body-parser --save` - install libraries and save the dependencies to `package.json` file so that they will be installed when we deploy to Heroku.



